<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
	<!-- Navbar -->
	<nav th:fragment="Navbar"
		class="main-header navbar navbar-expand navbar-white navbar-light">
		<!-- Left navbar links -->
		<ul class="navbar-nav">
			<li class="nav-item"><a class="nav-link" data-widget="pushmenu"
				href="#" role="button"><i class="fas fa-bars"></i></a></li>
			<li class="nav-item d-none d-sm-inline-block"><a
				class="nav-link" th:href="@{/}" th:text="#{text.menu.home}">Home</a></li>
		</ul>

		<!-- Right navbar links -->
		<ul class="navbar-nav ml-auto">
			<!-- Messages Dropdown Menu -->
			<li class="nav-item dropdown"><a class="nav-link" data-toggle="dropdown" href="#">
				<i class="fas fa-globe"></i>
			</a>
				<div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
					
					<a th:href="@{/locale(lang=es_ES)}" class="dropdown-item"> <!-- Message Start -->
						<div class="media">
							<div class="media-body">
								<h3 class="dropdown-item-title">
									<span th:text="#{text.locale.es}">
										Spanish
									</span> 
								</h3>
							</div>
						</div> <!-- Message End -->
					</a>
					<div class="dropdown-divider"></div>
					
					<a th:href="@{/locale(lang=en_US)}" class="dropdown-item"> <!-- Message Start -->
						<div class="media">
							<div class="media-body">
								<h3 class="dropdown-item-title">
									<span th:text="#{text.locale.en}">
										Spanish
									</span> 
								</h3>
							</div>
						</div> <!-- Message End -->
					</a>
					<div class="dropdown-divider"></div>
					
					<a href="#" class="dropdown-item dropdown-footer" th:text="#{text.locale.language}">
					language</a>
				</div></li>
			<!-- Notifications Dropdown Menu -->
			<li class="nav-item dropdown">
			<a class="nav-link" data-toggle="dropdown" href="#"> <i class="far fa-user"></i></a>
			
				<div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
					<span class="dropdown-item dropdown-header" th:text="#{text.user.username}">User</span>
					<div class="dropdown-divider"></div>

					<a sec:authorize="!isAuthenticated()" th:href="@{/login/login}"
						 class="dropdown-item"> 
						 <i class="fas fa-sign-in-alt mr-2"></i>
						 <span class="float" th:text="#{text.menu.signin}"></span>
					</a>
					<div class="dropdown-divider"></div>
					
					<a sec:authorize="isAuthenticated()" href="#" class="dropdown-item"> 
					<i class="fas fa-user mr-2"></i>
						<span class="float text-capitalize" sec:authentication="name"></span>
					</a>
					<div class="dropdown-divider"></div>
					
					<form sec:authorize="isAuthenticated()" id="logoutForm" th:action="@{/logout}" method="post">
						<a class="dropdown-item"
							onclick="document.getElementById('logoutForm').submit();" type="submit">
						<i class="fas fa-sign-out-alt  mr-2"></i>
						 <span class="float" th:text="#{text.menu.signout}"></span>
						</a>
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
					</form>
					<div class="dropdown-divider"></div>
				</div>
			</li>
		</ul>
	</nav>
	<!-- /.navbar -->
</body>
</html>
